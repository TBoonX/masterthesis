% Dieser Text ist urheberrechtlich geschützt
% Er stellt einen Auszug eines von mir erstellten Referates dar
% und darf nicht gewerblich genutzt werden
% die private bzw. Studiums bezogen Nutzung ist frei
% Januar 2006
% Autor: Sascha Frank 
% Universität Freiburg 
% www.informatik.uni-freiburg.de/~frank/
% www.namsu.de/


\documentclass{beamer}
%%\usetheme{Warsaw-seahorse}
%\usepackage{german}
%\usepackage{ngerman}
\usepackage[utf8]{inputenc}
\usepackage[ngerman]{babel}
\usepackage{hyperref}

% Dia Abbildungen
\usepackage{tikz}

\usetheme{Warsaw}
\setbeamertemplate{headline}{}
%\usecolortheme{seahorse}
%\usefonttheme{serif}
\useinnertheme{rectangles}
%\usepackage{bookman}
\setbeamercovered{transparent}

%\setbeamertemplate{navigation symbols}{}
%\setbeamertemplate{footline}{}
%\setbeamertemplate{headline}{}


\usepackage{color} % used for comments
\usepackage{listings}%Quellcode

\usepackage{wrapfig}%floating elements

% Tabellen
\usepackage{array}
\usepackage{longtable}

\definecolor{Navy}{rgb}{0,0,0.5}
\definecolor{Gray}{gray}{0.5}
\definecolor{dunkelgrau}{rgb}{0.8,0.8,0.8}
\definecolor{hellgrau}{rgb}{0.95,0.95,0.95}
\definecolor{hellgrau2}{rgb}{0.93,0.93,0.93}
\definecolor{red}{rgb}{1,0, 0.2}
\definecolor{green}{rgb}{0,1,0.2}

% tabulator zentrierung
\newcolumntype{C}[1]{>{\centering\arraybackslash}p{#1}} % zentriert mit Breitenangabe

\lstset {
  language=xml,
  basicstyle={\footnotesize\ttfamily},
  numbers=none,
  aboveskip=5mm,
  belowskip=5mm,
  showstringspaces=false,
  columns=flexible,
  keywordstyle={\bfseries\color{green}},
  commentstyle={\color{Red}\textit},
  stringstyle={\color{red}},
  frame=single,
  breaklines=true,
  breakatwhitespace=true,
  tabsize=4,
  morekeywords={xmlns:rdf, xmlns:rdfs, rdf:about, rdf:resource}  % <-- adding custom keywords
}
\lstset {
  language=sparql,
  basicstyle={\footnotesize\ttfamily},
  numbers=left,
  aboveskip=5mm,
  belowskip=5mm,
  showstringspaces=false,
  columns=flexible,
  keywordstyle={\bfseries\color{green}},
  commentstyle={\color{hellgrau}\textit},
  stringstyle={\color{red}},
  frame=single,
  breaklines=true,
  breakatwhitespace=true,
  tabsize=4,
  morekeywords={PREFIX, select, SELECT, where, WHERE, Filter, filter, FILTER}  % <-- adding custom keywords
}

% Fußnoten korrigieren:
\makeatletter
 \renewcommand\@makefntext[1]{%
  \setlength{\hangindent}{2em}
  \noindent
  \hb@xt@\hangindent{%
     \hss\@textsuperscript{\normalfont\@thefnmark}\hspace{.1em}}#1}
\makeatother


\begin{document}

\title{Kolloquium Masterarbeit}
\subtitle{Untersuchung quelloffener verteilter geografischer Informationssysteme zur Verarbeitung agrartechnischer Kennzahlen} 
\author{Kurt Junghanns, B.Sc. \\(kjungha@htwk-leipzig.de)} 
\date{\today}
%\logo{\includegraphics[scale=0.08]{logo-SF}}

\begin{frame}
\titlepage
\end{frame}

\begin{frame}
\frametitle{Inhaltsverzeichnis}\tableofcontents
\end{frame}

\section{Einleitung}
%Hintergrund, Vorhaben, Grundlagen
\begin{frame}\frametitle{Einleitung}
\underline{Betreuer:}\\
M. Sc. Volkmar Herbst\\
Prof. Dr. rer. nat. Thomas Riechert\\
\vspace{\baselineskip}
\begin{wrapfigure}{r}{0.66\textwidth}\centering
    \includegraphics[scale=0.21]{Firma.png}
    %\caption{Image3.png}
\end{wrapfigure}
\underline{Unternehmen:}\\
Agri Con GmbH\\\url{http://agricon.de}\\
% Datenerfassung über Sensoren und Probenahmegräte 
% Technik (Elekktronik) und Erfahrungen
% Einsatzplanung von Maschinen, Betriebsmitteln und Arbeitszeit
% EInklang von Ertrags- und Qualitätsziele mit den wachsenden Umweltanforderungen
% Sensoren, GPS, Terminal, Telemetrie, Datenmanegement, Grunddüngung
\vspace{\baselineskip}
\vspace{\baselineskip}
\textit{Precision Farming}
\end{frame}

\begin{frame}\frametitle{Einleitung}
%TODO Abbildung von Anje
\begin{figure}
\centering
\input{../Abbildungen/Ist-Stand.tex}
\caption{Aktueller Stand bei Agri Con}
\end{figure}
\end{frame}

\begin{frame}\frametitle{Einleitung}
%TODO Abbildung von Anje
\begin{figure}[h!]
\centering
\resizebox{.92\linewidth}{!}{\input{../Abbildungen/Wunsch-Stand.tex}}
\caption{Ziel Installation}
\end{figure}
\end{frame}

\begin{frame}\frametitle{Einleitung}
%Normalerweise verwendete GIS
%GIS hier erklären
\begin{figure}
\centering
\includegraphics[width=1\hsize]{Logos.png}
\caption{Relevante GIS}
\end{figure}
\end{frame}

\begin{frame}\frametitle{}
\begin{block}{Anforderungen:}
\begin{itemize}
\item große Datenmengen
\item räumliche Funktionen
\item geringe Laufzeiten
\end{itemize}
\end{block}
\vspace{\baselineskip}
\vspace{\baselineskip}
\begin{block}{
Anforderungen bedingen Untersuchung alternativer Datenhaltung:}
\begin{itemize}
\item NoSQL
\item verteiltes System
\end{itemize}
\end{block}
%NoSQL hier erklären
\end{frame}

\section{Methodisches Vorgehen}
%wie in Thesis

\begin{frame}\frametitle{Methodisches Vorgehen}
\textit{Untersuchung quelloffener verteilter geografischer Informationssysteme zur Verarbeitung agrartechnischer Kennzahlen:}\\
% Informationssystem nach Kudraß:
% S. 32
% "Ein Informationssystem (IS) dient der rechnergestützten Erfassung, Speicherung, Verarbeitung, Pflege, Analyse, Verbreitung, Übertragung und Anzeige von Informationen. Es ist ein soziotechnisches System, das menschlische und maschinelle Komponenten (Teilsysteme) für die optimale Bereitstellung von Informationen und Kommunikation umfasst."
% geometrische und tplologische Eigenschaften werden berücksichtigt
\begin{enumerate} %GIS erklären
\item Untersuchung bestehender Frameworks anhand von Qualitätsmerkmalen
%Softwareauswahl, Softwarequalitätsmanagement, Nutzwertanalyse, Vorauswahl der Frameworks mit Wikipedia, 
\item Auswahl eines Frameworks
%Analytical hierarchy process nicht geeignet: zu wenig alternative, Nachimplementation unberücksichtigt, Wertung nicht hierarchisch
%Technique for Order Preference by Similarity to Ideal Solution ist nicht geeignet: unübersichtlicher und abstrakte Entfernung zur bestmöglichen theoretischen Alternative nutzlos
\item Entwurf eines Prototypen %aka Untersuchung des Frameworks
%kein allgemines Vorgehen da spezielle Frameworks -nach dessen Guidelines richten
\item Prototypische Implementierung %Bewertung anhand Tests+Nutzwertanalyse
%Funktions- und Leistungstests
%erweiterte Nutzwertanalyse
%Tests definieren
\end{enumerate}
\end{frame}

\section{Ausgangsszenario}
%analog Thesis

\begin{frame}\frametitle{Ausgangsszenario}
\underline{Anforderungen an die Technologie:}
\begin{itemize}
\item PostgreSQL mit PostGIS zum Datenimport und -export nutzbar
\item Gruppierung und Filterung mit geringer Laufzeit
\item Parallele Berechnung über große Datenmengen mit geringer Laufzeit
\item Räumliche Berechnungen wie Verschneidung und Overlays
\item Nutzbare Schnittstelle zur Darstellung mit dem UMN MapServer
\end{itemize}
%funktionale und nicht-funktionale Anforderungen; technische Anforderungen
\end{frame}

\begin{frame}\frametitle{Ausgangsszenario}
\begin{block}{Softwarequalitätsmerkmale:}
Funktionsumfang, Fehlertoleranz, Dokumentation, Zeitverhalten, Analysier- und Modifizierbarkeit.
\end{block}

\vspace{\baselineskip}

\begin{block}{Qualitätsmetriken:}
Richtigkeit, Interoperabilität, Funktionsumfang, Fehlertoleranz, Dokumentation, Zeitverhalten und Modifizierbarkeit.
\end{block}

\vspace{\baselineskip}

\begin{block}{Testfälle:}
Funktions- und Leistungstests.
\end{block}
\end{frame}

\begin{frame}\frametitle{Ausgangsszenario}
Stand der Forschung


\end{frame}

\section{Systemauswahl}
%analog Thesis

\begin{frame}\frametitle{Systemauswahl}
\begin{figure}
\centering
\includegraphics[width=1\hsize]{spatial_databases.png}
\caption{Relevante GIS nach Recherche}
\end{figure}
\begin{center}
\tiny
\url{https://en.wikipedia.org/wiki/Spatial_database}
\end{center}
%Auswahl nach Farbgebung
%Nutzwertanalyse mit Wichtung alle Metriken
\end{frame}

\begin{frame}\frametitle{Systemauswahl}

   \begin{columns}
    \begin{column}{.5\textwidth}
\ \ \ Nutzwert GeoMesa: 56
    \end{column}
    \begin{column}{.5\textwidth}
    \includegraphics[width=.7\hsize]{geomesa.png}
    \end{column}
  \end{columns}
%https://raw.githubusercontent.com/geomesa/geomesa.github.io/master/img/geomesa-2x.png

\begin{table}
\begin{tabular}{|l|p{1.8cm}|l|p{1.9cm}|}
\hline
\textbf{Metrik} & \textbf{erreichter Wert} & \textbf{Erfüllung in \%} & \textbf{gewichteter Teilnutzen} \\ \hline
Interoperabilität & 7 & 58 & 17 \\ \hline
Funktionsumfang & 48 & 79 & 16 \\ \hline
Dokumentation & 4 & 31 & 11 \\ \hline
Modifizierbarkeit & 4 & 80 & 12 \\ \hline
\end{tabular}
\caption{Nutzwertanalyse GeoMesa}
\end{table}

\begin{center}
\tiny
\url{https://raw.githubusercontent.com/geomesa/geomesa.github.io/master/img/geomesa-2x.png}
\end{center}

\end{frame}

\begin{frame}\frametitle{Systemauswahl}

   \begin{columns}
    \begin{column}{.5\textwidth}
\ \ \ Nutzwert Postgres-XL: 86
    \end{column}
    \begin{column}{.5\textwidth}
    \includegraphics[width=.45\hsize]{postgresxl.jpg}
    \end{column}
  \end{columns}
%http://www.postgres-xl.org/wp-content/uploads/2014/04/xl592x497g.jpg

\begin{table}
\begin{tabular}{|l|p{1.8cm}|l|p{1.9cm}|}
\hline
\textbf{Metrik} & \textbf{erreichter Wert} & \textbf{Erfüllung in \%} & \textbf{gewichteter Teilnutzen} \\ \hline
Interoperabilität & 12 & 100 & 30 \\ \hline
Funktionsumfang & 53 & 87 & 17 \\ \hline
Dokumentation & 9 & 69 & 24 \\ \hline
Modifizierbarkeit & 5 & 100 & 15 \\ \hline
\end{tabular}
\caption{Nutzwertanalyse Postgres-XL}
\end{table}

\begin{center}
\tiny
\url{http://www.postgres-xl.org/wp-content/uploads/2014/04/xl592x497g.jpg}
\end{center}

\end{frame}

\begin{frame}\frametitle{Systemauswahl}

   \begin{columns}
    \begin{column}{.5\textwidth}
\ \ \ Nutzwert Rasdaman: 51
    \end{column}
    \begin{column}{.5\textwidth}
    \includegraphics[width=.6\hsize]{rasdaman.png}
    \end{column}
  \end{columns}
%http://www.faculty.jacobs-university.de/pbaumann/iu-bremen.de_pbaumann/Courses/InformationArchitecture/Rasdaman-doc/html/rasj/rasj/logo-rasdaman.gif

\begin{table}
\begin{tabular}{|l|p{1.8cm}|l|p{1.9cm}|}
\hline
\textbf{Metrik} & \textbf{erreichter Wert} & \textbf{Erfüllung in \%} & \textbf{gewichteter Teilnutzen} \\ \hline
Interoperabilität & 7 & 58 & 17 \\ \hline
Funktionsumfang & 10 & 16 & 3 \\ \hline
Dokumentation & 8 & 62 & 22 \\ \hline
Modifizierbarkeit & 3 & 60 & 9 \\ \hline
\end{tabular}
\caption{Nutzwertanalyse Rasdaman}
\end{table}

\begin{center}
\tiny
\url{http://www.rasdaman.org/chrome/site/trac_logo.png}
\end{center}

\end{frame}

\section{Untersuchung von Postgres-XL}
%Ausschnitt aus Thesis

%
\begin{frame}\frametitle{Untersuchung von Postgres-XL}

\begin{figure}
\centering
\includegraphics[width=1\hsize]{../Abbildungen/postgresxl-structure.jpg}
\caption{Aufbau von Postgres-XL}
\end{figure}
\end{frame}

\begin{frame}\frametitle{Untersuchung von Postgres-XL}
%Installation, Einrichtung
\begin{block}{Schnittstellen:}
Erfolgt analog zu PostgreSQL mit PostGIS mit Coordinator.
%Für SQL und UMN
\end{block}

\vspace{\baselineskip}
\vspace{\baselineskip}

\begin{block}{Verarbeitung:}
Abhängig der Verteilung der Daten sind ausgewählte Knoten aktiv.\\
Aufruf und Bibliotheken analog zu PostgreSQL mit PostGIS.
\end{block}

\end{frame}

\begin{frame}\frametitle{Untersuchung von Postgres-XL}
\begin{block}{Entwurf}
Ähnlichkeit zu Ist-Stand bedingt Übernahme von Funktionalität.
\end{block}
% Fehlende Funktionalität wie Trigger und Problematik der verteilten Primärschlüssel bedingen Unmöglichkeit der kurzfristigen Realisierung
% Entwurf ist Clon des ISt-Standes ohne Trigger und angepasste FUnktionen/Schlüssel

\begin{figure}
\centering
\includegraphics[width=1\hsize]{../Abbildungen/gantt_aufwand_umsetzung_cropped.pdf}
\caption{Aufwandsschätzung der teilweisen Integration}
\end{figure}
\end{frame}

\section{Tests}
%Ausschnitt aus Thesis

\begin{frame}\frametitle{Tests}
\centering\textbf{Testumgebung}

   \begin{columns}
    \begin{column}{.5\textwidth}
\input{../Abbildungen/Testsystem_physischerAufbau.tex}
    \end{column}
    \begin{column}{.5\textwidth}
\resizebox{1\linewidth}{!}{\input{../Abbildungen/Testsystem_VMs_2.tex}}
    \end{column}
  \end{columns}
\end{frame}

\begin{frame}\frametitle{Tests}
\centering\textbf{Funktionstests}\\

\vspace{\baselineskip}
\vspace{\baselineskip}

Funktionstests überprüfen grundlegende Funktionen des realen Anwendungsfalles.

\vspace{\baselineskip}
\vspace{\baselineskip}

6 von 7 bestanden Funktionstests.
%kriging mit R 
\end{frame}

\begin{frame}\frametitle{Tests}
\centering\textbf{Funktionstests}

\begin{table}[h!]
\centering
\small
\begin{tabular}{p{2.3cm}|p{7cm}}
\textbf{Testfall:} & Verschneidung von räumlichen Daten. \\ \hline
\textbf{Beschreibung:} & Überlagernde Vektordaten werden miteinander verschnitten. \\ \hline
\textbf{Testdaten:} & Ausgewählte Schläge und Teilschläge aus farm.fields. \\ \hline
\textbf{Sollergebnis:} & Intersection, Union, Difference und Symmetric Difference ist durchführbar und liefert das korrekte Ergebnis. \\ \hline
\textbf{Ist Ergebnis:} & Die Verschneidung erfolgt korrekt und kann dargestellt werden. \\ \hline
\textbf{Bestanden:} & Ja \\
\end{tabular}
\caption{FT05}
\end{table}
\end{frame}

\begin{frame}\frametitle{Tests}
\centering\textbf{Leistungstests}

\begin{block}{Testdefinition}
\begin{itemize}
\item Identisch für PostgreSQL und Postgres-XL
\item Durchführung mit JMeter
\item Messung mit Zabbix
\item Mittelung de Ergebnisse %11 Durchführungen, 10 verwenden
\end{itemize}
\end{block}

\begin{block}{Vorüberlegungen}
\begin{itemize}
\item Kostenmaß als Möglichkeit der Berechnung der theoretischen Leistung
\item Anpassung des Datenbankschemas an Verteilung der Daten
\item Optimierung des Query Planers
\item Skalierbarkeit für verteilt arbeitende System möglich
\end{itemize}
\end{block}
\end{frame}

\begin{frame}\frametitle{Tests}
\centering\textbf{Leistungstests - Aggregation}
%Punktdaten aus nsensorlogs
%gleich verteilt auf coordinator und DataNodes - mit explain verbose select

\vspace{\baselineskip}

\begin{block}{Definition}
\begin{itemize}
\item Pro Coordinator 3 Threads
\item 5 Wiederholungen
\item Aggregation von 5 Datensätzen %fileids
\end{itemize}
\end{block}

\vspace{\baselineskip}

\begin{block}{Ergebnis}
Postgres-XL: 3619ms\\
PostgreSQL: 4319ms
\end{block}
\end{frame}

\begin{frame}\frametitle{Tests}
\centering\textbf{Leistungstests - Aggregation}
\begin{figure}
\centering
\includegraphics[width=1\hsize]{jdbc_aggregation_Testlauf_node6.png}
\caption{Auslastung des Knotens 6}
\end{figure}
\end{frame}

\begin{frame}\frametitle{}
\begin{table}
\centering
\small
\begin{tabular}{|c|c|C{3cm}|}
\hline
\textbf{Durchschnittliche Antwortzeit} & \textbf{Aggregation} & \textbf{Aggregation mit Kartendarstellung} \\ \hline
\textbf{Postgres-XL} & 3,6s & 2,4s \\ \hline
\textbf{PostgreSQL} & 4,3s & 2,6s \\ \hline
\end{tabular}
\caption{Vergleich der Testergebnisse}
\end{table}

\begin{table}
\centering
\small
\begin{tabular}{|C{2.4cm}|c|C{2.9cm}|c|}
\hline
\textbf{Mittlere CPU Auslastung} & \textbf{Aggregation} & \textbf{Aggregation mit Kartendarstellung} & \textbf{Verarbeitung} \\ \hline
\textbf{Postgres-XL} & 0,2 & 0,1 & 0,5 \\ \hline
\textbf{PostgreSQL} & 3,6 & 0,4 & 0,5 \\ \hline	
\end{tabular}
\caption{Vergleich der CPU Auslastung, GTM VM nicht berücksichtigt}
\end{table}
\end{frame}

\section{Fazit}
%analog Thesis
 
\begin{frame}\frametitle{}

\end{frame}

\end{document}
